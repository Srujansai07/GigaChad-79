# BroGigaChat - Tech Stack

## ğŸ—ï¸ The Brutalized T3 Hybrid Stack 2025

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           THE BRUTALIZED T3 HYBRID STACK 2025           â”‚
â”‚                (Web + Native Napalm)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  FRAMEWORK:                                             â”‚
â”‚  â”œâ”€ Next.js 14 (App Router) â€“ Web Core                  â”‚
â”‚  â””â”€ Expo (React Native) â€“ Native Fork (Week 5+)         â”‚
â”‚                                                          â”‚
â”‚  LANGUAGE:                                              â”‚
â”‚  â””â”€ TypeScript (Strict Mode, ESLint/Prettier)           â”‚
â”‚                                                          â”‚
â”‚  DATABASE:                                              â”‚
â”‚  â””â”€ PostgreSQL via Neon (Serverless Shards)             â”‚
â”‚                                                          â”‚
â”‚  ORM:                                                   â”‚
â”‚  â””â”€ Prisma (w/ Accelerate Caching)                      â”‚
â”‚                                                          â”‚
â”‚  STYLING:                                               â”‚
â”‚  â”œâ”€ TailwindCSS + NativeWind (Expo)                     â”‚
â”‚  â””â”€ shadcn/ui (Components Carnage)                      â”‚
â”‚                                                          â”‚
â”‚  STATE MANAGEMENT:                                      â”‚
â”‚  â”œâ”€ Server Components (Server State)                    â”‚
â”‚  â””â”€ Zustand (Client State â€“ Zippy Streaks)              â”‚
â”‚                                                          â”‚
â”‚  API LAYER:                                             â”‚
â”‚  â”œâ”€ Server Actions (Primary â€“ Simple Stabs)             â”‚
â”‚  â””â”€ tRPC (Tier 6+ â€“ Type-Tormented Endpoints)           â”‚
â”‚                                                          â”‚
â”‚  VALIDATION:                                            â”‚
â”‚  â””â”€ Zod (Input Immolation Everywhere)                   â”‚
â”‚                                                          â”‚
â”‚  AUTH:                                                  â”‚
â”‚  â””â”€ Supabase Auth (Magic Links + RLS + Biometrics)      â”‚
â”‚                                                          â”‚
â”‚  HOSTING/DEPLOY:                                        â”‚
â”‚  â”œâ”€ Vercel (Web/Edge Empire)                            â”‚
â”‚  â””â”€ Expo EAS (Native Builds â€“ App Store Onslaught)      â”‚
â”‚                                                          â”‚
â”‚  AI INTEGRATION:                                        â”‚
â”‚  â””â”€ Grok API + TensorFlow Lite (On-Device Ghosts)       â”‚
â”‚                                                          â”‚
â”‚  NOTIFICATIONS:                                         â”‚
â”‚  â””â”€ Expo Notifications (Native Nukes) + FCM (Web)       â”‚
â”‚                                                          â”‚
â”‚  SOCIAL HOOKS:                                          â”‚
â”‚  â””â”€ Ayrshare (X/TikTok/IG Cross-Post Carnage)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Framework Details

### Web Core: Next.js 14 (App Router)
- Server Components for pillar data fetching
- Partial Prerendering for lightning loads
- Edge-capable performance via Vercel

### Mobile: Expo (React Native)
- Native fork starting Week 5 of development
- TypeScript shared with web (no context-switching)
- NativeWind for consistent styling
- EAS for App Store builds

---

## ğŸ’¾ Database Architecture

### PostgreSQL via Neon
- **Why Neon over Supabase?** 3x faster queries, serverless shards
- Branching for beta testing without bill explosions
- Row-Level Security (RLS) for user data protection

### Prisma ORM
- Schema-first development
- Prisma Accelerate for global caching (70% latency reduction)
- Type-safe queries propagated to all clients

---

## ğŸ¨ Styling Stack

### TailwindCSS
- Utility-first CSS framework
- Custom "Bro Boil" theme: Crimson for blood-boils, shadows for intensity
- Dark mode default (optional light)

### NativeWind
- Tailwind for React Native
- Same utility classes cross-platform
- Consistent design language

### shadcn/ui
- Copy-paste component library
- Customizable notification components
- Draggable modals for task management

---

## ğŸ“Š State Management

### Server Components (Primary)
- Fetch pillar data server-side
- No client-side state bloat
- Better performance for initial loads

### Zustand (Client State)
- Lightweight client state management
- Streak sliders, local preferences
- No TanStack Query complexity until 10K+ users

---

## ğŸ”Œ API Layer

### Server Actions (Primary)
- Simple mutations for MVP
- Teleport triggers
- Task CRUD operations

### tRPC (Advanced - Type-Safe Endpoints)
- End-to-end TypeScript inference
- For complex AI enhancement APIs
- Added in later phases for type-tormented endpoints

### Zod Validation
- Input validation everywhere
- Shared schemas between client and server
- Runtime type checking

---

## ğŸ” Authentication

### Supabase Auth
- Magic Links (passwordless)
- OAuth providers (Google, Apple, GitHub)
- Row Level Security integration
- Biometric support for mobile (Face ID, Touch ID)

### JWT Flow
- Mobile app obtains JWT from Supabase
- Passed in Authorization header for all API calls
- Context decodes token to identify user consistently

---

## ğŸ“¤ Notifications

### Expo Notifications (Mobile)
- Native push notifications that actually work
- Background app refresh support
- Rich notifications with action buttons

### Firebase Cloud Messaging (Web)
- Service worker based notifications
- Fallback for PWA users

---

## ğŸ¤– AI Integration

### Grok API (Cloud)
- Custom rant generation ("Tate-twist this tweet")
- Task enhancement suggestions
- RAG pipeline with persona knowledge bases

### TensorFlow Lite (On-Device)
- Local form tracking via camera
- Offline AI capabilities
- No data latency for critical features

---

## ğŸŒ Hosting & Deployment

### Vercel (Web)
- Edge function deployment
- Automatic previews for PRs
- Zero-config Next.js hosting

### Expo EAS (Mobile)
- App Store and Play Store builds
- Over-the-air updates (where permitted)
- Development builds for testing

---

## ğŸ”— Third-Party Integrations

### Social Platforms (via Ayrshare)
- Single API for X/TikTok/IG cross-posting
- $49/mo starter plan
- OAuth for user platform connections

### Deep Linking
- Branch.io or Firebase Dynamic Links
- Custom URL schemes for each target app
- Fallback handling for uninstalled apps

### Analytics
- Mixpanel for product analytics
- Amplitude for growth metrics
- Custom event tracking

### Payments
- Stripe for web subscriptions
- Apple/Google In-App Purchase for mobile
- Unified subscription management

---

## ğŸ“‚ Monorepo Structure

```
/apps
  /nextjs          - Web application (Next.js App Router)
  /expo            - Mobile application (React Native)
  
/packages
  /api             - tRPC router definitions (business logic)
  /db              - Prisma schema and client
  /ui              - Shared UI components (Tamagui/NativeWind)
  /config          - Shared configuration
  /types           - Shared TypeScript types
```

---

## âš¡ Performance Benchmarks

- **Cold starts:** 2-3s per route (Cal.com benchmarks)
- **Dev time reduction:** 60% less boilerplate than MERN
- **Cross-platform savings:** 40% cheaper than separate native apps
- **Type coverage target:** 95%+

---

## ğŸ› ï¸ Development Tools

### Build System
- Turborepo for monorepo management
- Caching for faster builds
- Parallel task execution

### Code Quality
- ESLint with strict config
- Prettier for formatting
- Husky for pre-commit hooks

### CI/CD
- GitHub Actions for testing
- Vercel/EAS for deployments
- Automated preview environments
